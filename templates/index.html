<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drone Mission Control</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Drone Mission Control</h1>
            <div class="flight-status">
                <span id="flight-status-indicator" class="indicator"></span> Drone Status
            </div>

        </header>

        <div class="dashboard">
            <!-- ========================= DRONE STATUS ======================== -->
            <section class="status-panel">
                <h2>Drone Status</h2>
                <table>
                    <tr><th>Height</th>        <td id="altitude">0.0</td></tr>
                    <tr><th>Speed</th>         <td id="speed">0.0</td></tr>
                    <tr><th>Battery percent</th>       <td id="battery_percent">100%</td></tr>
                    <tr><th>Battery voltage</th>   <td id="battery_voltage">0V</td></tr>
                    <tr><th>GPS GLOBAL</th>           <td id="gps_global">0.0,0.0</td></tr>
                    <tr><th>GPS RELATIVE</th>           <td id="gps_relative">0.0,0.0</td></tr>
                    <tr><th>Mission time</th>  <td id="mission_time">00:00:00</td></tr>
                    <tr><th>Flight mode</th>   <td id="flight_mode">INIT</td></tr>
                    <tr><th>Last update</th>   <td id="last_update">-</td></tr>
                </table>
            </section>

            <!-- ========================= CAMERA IMAGE ======================= -->
            <section class="image-panel">
                <h2>Latest Image</h2>
                <div class="image-container">
                    <img id="drone-image" src="/static/placeholder.png" alt="Drone Camera Feed">
                    <div class="image-meta">
                        <span id="image-timestamp">No image received</span>
                        <span id="image-size">-</span>
                    </div>
                </div>
                <!-- Gallery thumbnails will be injected here -->
                <div class="gallery-container" id="gallery-container"></div>
            </section>

            <!-- ========================= LIVE VIDEO STREAM =================== -->
            <div class="camera-view-container">
                <h3>Widok kamery na Å¼ywo</h3>
                <img id="live-video" src="/video_feed" style="width:500px; max-width:100%; border: 2px solid #333;" alt="Live stream">
            </div>

            <!-- ========================= MISSION LOG ======================== -->
            <section class="log-panel">
                <h2>Mission Log</h2>
                <div class="log-controls">
                    <button id="clear-gallery">Clear gallery</button>
                    <button id="clear-log">Clear</button>
                </div>
                <div class="log-container" id="mission-log"></div>
            </section>
        </div> <!-- /dashboard -->
    </div> <!-- /container -->

    <div id="error-display" class="error-display hidden"></div>

</body>
</html>
